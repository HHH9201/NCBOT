# 🤖 NcatBot Help Plugin

一个功能完善的帮助插件，为NcatBot提供插件使用说明和命令列表。

## 🌟 功能特性

- **📋 插件列表展示**: 显示所有可用插件及其功能描述
- **💬 命令说明**: 提供每个插件的具体使用命令和示例
- **🎯 群组和私聊支持**: 同时支持群组和私聊环境下的帮助请求
- **⚙️ 管理员配置**: 支持管理员通过私聊配置帮助信息
- **🔧 可定制化**: 支持自定义标题、描述、页脚等内容
- **💾 持久化配置**: 配置信息保存在本地JSON文件中

## 🚀 使用方法

### 基本使用

在群组或私聊中发送以下命令：

```
帮助
菜单
help
?
？
```

### 管理员设置（私聊）

管理员可以通过私聊发送以下命令进行配置：

```
帮助设置          # 查看设置说明
设置标题 <新标题>   # 修改帮助标题
设置描述 <新描述>   # 修改帮助描述
设置页脚 <新页脚>   # 修改帮助页脚
查看配置           # 查看当前配置
重置配置           # 恢复默认配置
```

## 📁 文件结构

```
help/
├── __init__.py          # 插件入口文件
├── main.py             # 主插件逻辑
├── help_config.yaml    # 配置文件（YAML格式）
└── README.md           # 说明文档
```

## ⚙️ 配置文件说明

`help_config.yaml` 文件结构（使用YAML格式，支持多行文本）：

```yaml
# NcatBot 帮助插件配置文件
title: "🤖 NcatBot 帮助中心"
description: |
  欢迎使用NcatBot！以下是可用的插件和命令列表：
  
  💡 发送 '帮助' 或 '菜单' 查看此信息
footer: "💡 提示：发送 '帮助' 或 '菜单' 查看此信息"

# 插件配置
plugins:
  插件名称:
    description: "插件功能描述"
    commands:
      - "命令1"
      - "命令2"
    example: "使用示例"
```

## 🔧 插件开发规范

本插件遵循NcatBot插件开发规范：

1. **继承BasePlugin**: 插件类继承自`ncatbot.plugin.BasePlugin`
2. **定义基本信息**: 设置`name`和`version`属性
3. **实现生命周期方法**: 
   - `on_load()`: 插件加载时执行
   - `_unload_()`: 插件卸载时执行
4. **使用装饰器注册事件**: 使用`@bot.group_event()`和`@bot.private_event()`
5. **错误处理**: 完善的异常捕获和处理机制
6. **日志记录**: 使用Python标准logging模块

## 📝 添加新插件说明

要在帮助中添加新插件，只需在`help_config.yaml`的`plugins`部分添加：

```yaml
plugins:
  YourPlugin:
    description: "插件功能描述"
    commands: ["命令1", "命令2", "命令3", "命令4"]  # 支持多个命令
    example: "使用示例"
```

### 💡 处理大量命令的技巧

当插件有很多命令时，有几种处理方式：

1. **预分组模式**（推荐）：
```yaml
commands: 
  - "命令1 | 命令2 | 命令3 | 命令4"
  - "命令5 | 命令6 | 命令7 | 命令8"
```
完全按照你的分组显示，支持多行。

2. **简洁模式**：
```yaml
commands: ["命令1", "命令2", "命令3", "命令4", "命令5", "命令6", "命令7", "命令8"]
```
插件会自动将长列表分行显示，每行3个命令。

3. **分组模式**：
```yaml
commands: ["常用: 命令1 | 命令2 | 命令3", "其他: 命令4 | 命令5 | 命令6"]
```

4. **简写模式**：
```yaml
commands: ["命令1 | 命令2 | 命令3 | 命令4 | 命令5 | 命令6 | 命令7 | 命令8"]
```

## 🎨 美化效果展示

帮助信息现在支持以下美化特性：

✨ **标题美化**：使用装饰符号和自适应分隔线
📌 **描述美化**：支持多行描述，每行前添加装饰符号
🎪 **插件卡片**：每个插件都有独立的卡片式布局
📍 **描述增强**：自动为功能描述添加引号和符号
🔖 **命令展示**：智能识别命令格式，支持多种显示方式
💡 **示例美化**：使用特殊引号包围示例内容
🌈 **分隔线**：插件间使用彩虹分隔线，最后一个插件不显示
═ **页脚美化**：使用双线和装饰符号

### 显示效果示例：

```
✨ 🤖 帮助中心 ✨
═══════════════════════

📌 欢迎使用群助手！以下是可用的插件和命令列表：
📌 💡 发送 '帮助' 或 '菜单' 查看此信息

🎯 可用功能一览：
──────────────────────────────────────────────────

🎪 游戏搜索
   📍 🔍 游戏搜索『功能』
   🔖 使用命令: 搜索 | 单机
   💡 示例: 『搜索只狼 | 单机只狼』
   ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄

🎪 福利资源
   📍 🖼️ 一次性图片20张,视频3个
   🔖 使用命令:
      ├─ 黑丝 | 白丝 | 买家秀 | 原神 | cos | 美腿 | xjj | jk
      ├─ 小姐姐视频 | xjj视频 | 玉足视频
   💡 示例: 『黑丝』
   ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄

🎪 文档查询
   📍 📄 文档查询『功能』•查询游戏下载,报错,安装等
   🔖 使用命令: 文档 | 帮助文档
   💡 示例: 『文档』

══════════════════════════════════════════════════
✨ 💡 提示：发送 '帮助' 或 '菜单' 查看此信息 ✨
```

## 🐛 错误处理

插件包含完善的错误处理机制：

- **配置文件加载失败**: 自动使用默认配置
- **消息发送失败**: 避免异常传播，确保插件稳定运行
- **权限验证失败**: 友好的错误提示信息
- **配置保存失败**: 记录错误日志，不影响插件运行

## 🔍 日志信息

插件会记录以下日志信息：

- 插件加载和卸载状态
- 帮助请求处理情况
- 管理员配置修改记录
- 错误和异常信息

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个插件！

## 📄 许可证

MIT License