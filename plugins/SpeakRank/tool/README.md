# SpeakRank 发言排行榜插件 v3.0.0

## 功能介绍

SpeakRank是一个功能强大的QQ群发言统计插件，支持多种统计方式和排行榜展示。

### 主要功能

1. **多维度统计**
   - 总发言统计：统计用户在所有时间的总发言次数
   - 今日发言统计：统计用户当日的发言次数（0:00-24:00）
   - 昨日发言统计：统计用户昨日的发言次数

2. **多种排行榜**
   - 总发言榜：显示群内总发言次数TOP10
   - 今日发言榜：显示群内今日发言次数TOP10
   - 昨日发言榜：显示群内昨日发言次数TOP10

3. **个人统计**
   - 我的发言：显示个人的详细发言统计
   - 格式：总发言（X）昨日发言（X）今日发言（X）

4. **自动功能**
   - 每日0点自动发送昨日发言排行榜
   - 智能数据保存策略

## 使用命令

| 命令 | 功能 |
|------|------|
| `总发言榜` | 查看群内总发言排行榜 |
| `今日发言榜` | 查看群内今日发言排行榜 |
| `昨日发言榜` | 查看群内昨日发言排行榜 |
| `我的发言` | 查看个人发言统计 |
| `保存发言数据` | 手动保存数据到数据库 |
| `测试昨日榜` | 测试发送昨日排行榜（管理员功能） |

## 数据存储

插件使用SQLite数据库存储数据，包含两个主要表：

1. **speak_rank**：存储总发言统计数据
2. **daily_speak_rank**：存储每日发言统计数据

## 配置说明

插件配置文件为 `config.yaml`，包含以下配置项：

- `max_ranking_size`：排行榜最大显示数量（默认10）
- `auto_save_interval`：自动保存间隔（秒）
- `save_threshold`：每达到多少次发言就自动保存
- `daily_task.enabled`：是否启用每日0点自动发送
- 消息格式和命令配置等

## 更新日志

### v3.0.0
- 新增每日发言统计功能
- 新增昨日发言统计功能
- 新增多种排行榜类型
- 新增每日0点自动发送昨日排行榜
- 优化个人统计显示格式
- 新增配置文件支持

### v2.0.0
- 基础发言统计功能
- 排行榜展示
- 个人发言查询
- 数据持久化存储

## 注意事项

1. 插件需要正确配置数据库路径
2. 每日自动发送功能需要BotAPI支持
3. 建议在插件卸载时手动保存数据
4. 定期备份数据库文件以防数据丢失

## 技术支持

如有问题，请查看插件日志或联系开发者。
